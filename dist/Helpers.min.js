/**
 * Version 0.3.1, get uncompressed https://github.com/tytskiy/Helpers.js
 * Warning! Fix the prefix.
 * !function(...}("T0"); becomes !function(...}("T23");
 */
!function(a){"use strict";var b,c=window,d=window.mmcore;b=function(a){if(!a)throw"Please set campaign prefix";this.prefix=a.toLowerCase(),this.props={}},b.prototype.version="0.3.1",b.prototype.extend=function(){return b.extend.apply(arguments)},b.extend=function(a,b){var c,d;c={}.hasOwnProperty;for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d=function(){this.constructor=a},d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},b.prototype.setCssNamespace=function(){this.$("body").addClass("mm-"+this.prefix)},b.prototype.delegate=function(a){var b;return b=this,function(c,d){if(!a||!c||!d)throw""+b.prefix+" delegate: invalid arguments";return b.$.fn.on?(b.$(document).on(c,a,d),!0):b.$.fn.live?(b.$(a).live(c,d),!0):!1}},b.prototype.undelegate=function(a){var b;return b=this,function(c,d){if(!c)throw""+b.prefix+" undelegate: invalid arguments";return b.$.fn.off?(b.$(document).off(c,a,d),!0):b.$.fn.die?(b.$(a).die(c,d),!0):!1}},b.prototype.smartbind=function(a){var b,c;return b=this,c=this.$(a),c.length?function(a,d,e,f){return d?c.bind(a,b.debounce(d,e,f)):c.trigger(a),!0}:!1},b.prototype.makeDispatcher=function(){var a;a=this.$({}),a.subscribe=function(){return a.on?a.on.apply(a,arguments):a.bind.apply(a,arguments)},a.unsubscribe=function(){return a.off?a.off.apply(a,arguments):a.unbind.apply(a,arguments)},a.publish=function(){return a.trigger.apply(a,arguments)},this.dispatcher=a},b.prototype.detectFirefox=function(){var a;return a=navigator.userAgent,a&&a.toLowerCase().indexOf("firefox")>-1?!0:!1},b.prototype.fixFirefoxHistory=function(){var a,b;b=this.isFirefox===!1?!1:this.isFirefox=this.detectFirefox(),this.isFirefox&&(a=location.hash,a=a.length?""+a+"-mm":"mm",location.hash=a)},b.prototype.redirect=function(a){a&&(this.fixFirefoxHistory(),location.assign?location.assign(a):location=a)},b.prototype.request=function(a,b){var c,e;c=!1,e=a&&"function"==typeof a?!0:!1,d.CGRequest(function(){c=!0,e&&a()}),e&&setTimeout(function(){c||a()},b||6e3)},b.prototype.trackAsyncAction=function(a){d._async=!0,d.SetPageID("events"),d.SetAction(a.name,a.val||1,a.attr||""),this.request(a.then||function(){},a.time||null)},b.prototype.wait=function(a){var b,d,e,f,g,h,i,j,k,l,m;if(b=this,l={},j=function(){clearTimeout(l.timer),clearTimeout(l.resetTimer)},d=a.check||null,g=a.frequency||a.freq||0,i=a.reset||null,e=a.context||c||window.top,k="function"==typeof a.success?function(){j(),a.success.call(b),"function"==typeof a.always&&a.always.call(b)}:function(){j(),"function"==typeof a.always&&a.always.call(b)},f="function"==typeof a.fail?function(){j(),a.fail.call(b),"function"==typeof a.always&&a.always.call(b)}:function(){j(),"function"==typeof a.always&&a.always.call(b)},h="function"==typeof i?!0:!1,h||(i=parseInt(i,10),i=i>-1?i:null),!d)if(a.id)d=function(){return e.document.getElementById(a.id)};else{if(!a.selector)throw"wait(): no condition specified";d=function(){return e.document.querySelector(a.selector)}}d.call(b)?k():h&&i.call(b)?f():(m=function(a){l.timer=setTimeout(function(){d.call(b)?k():h&&i.call(b)?f():m(a)},g)},i&&!h&&(l.resetTimer=setTimeout(function(){return f()},i)),m(a))},b.prototype.injectStyle=function(a){var b;return b=document.createElement("style"),b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),document.getElementsByTagName("head")[0].appendChild(b),b},b.prototype.replaceImg=function(a,b,c){var d=a,e=b.cloneNode(!1);e.src=d,b.parentNode.replaceChild(e,b),c&&"function"==typeof c&&c(e)},b.prototype.debounce=function(a,b,c){var d;return d=null,function(){var e,f,g;if(e=1<=arguments.length?[].slice.call(arguments,0):[],f=function(){a.apply(g,e)},g=this,d)clearTimeout(d);else if(c)return void a.apply(g,e);d=setTimeout(f,b||200)}},b.prototype.stripScripts=function(a){return a.replace(/<script.*?>(.|\n)*?<\/script>/gim,"")},b.prototype.time=function(){var a;return a=function(a){return function(b){return Math.round(b*a)}},{seconds:a(1e3),minutes:a(6e4),hours:a(36e5),days:a(864e5),weeks:a(6048e5),months:a(26298e5),years:a(315576e5)}}(),d[a]=b}("T0");